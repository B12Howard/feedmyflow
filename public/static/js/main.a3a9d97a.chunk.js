(this.webpackJsonpfeedmyflow=this.webpackJsonpfeedmyflow||[]).push([[0],{145:function(e){e.exports=JSON.parse('{"header":{"home":"Home","dashboard":"Dashboard","about":"About","contact":"Contact","disconnect":"Log Out","connect":"Log In","language":{"english":"English","french":"French"},"language-small":{"english":"En","french":"Fr"}},"about":{"text":{"usage":["1 - Log in / Sign in with ==Linkedin== on the home page \ud83d\udcd1","2 - ==Schedule your post== by clicking on the new post button, or by clicking on any day you would like your post to be scheduled \ud83d\udcc5","3 - Configure your post according to the ==guide below==, and you\u2019re done! \ud83d\udc4d"],"guide":["1 - The 2 ==required fields== to schedule a post are content and date \u231a","2 - You can also add a ==title, a link and a description==, the post will look like the picture on the right \ud83d\udc49","3 - Note that you can ==update/delete== your post anytime by clicking on it on the calendar \ud83d\udcaa"],"team":["We are a team of passionate CS students from France \ud83e\udd50","We wanted to solve a simple problem which is automating Linkedin posting for free, and this is where [it all started](https://github.com/medartus/feedmyflow) ! \ud83d\ude80","We love challenging our skills so checkout our other projects [Swizzl](www.swizzl.fr), [BikeStations](https://bikestations.netlify.com/) and [Loa](https://loabot.netlify.com/) \ud83e\udd16"]},"title":{"usage":"How to use it?","guide":"Guide","team":"About the team"}},"calendar":{"date":"Date: ","content":"Content: ","schedule":"Schedule your next post","automate":"Automating your feed is just one click away","upcoming":"UPCOMING POSTS","create":"CREATE POST","messageCalendar":{"allDay":"All Day","previous":"back","next":"Next","today":"Today","month":"Month","week":"Week","day":"Day","agenda":"Agenda","date":"Date","time":"Hour","showMore":"+ {{total}} more"}},"home":{"go":"LET\'S GO","slogan":"Free Linkedin post scheduling"},"creationModal":{"validDate":{"valid":"Please input a valid date.","before":"The date musn\'t be before now"},"deleteDate":{"confirm":"Are you sure you want to delete that post ?","delete":"Delete","cancel":"Cancel"},"publicationTime":{"quarter":"Posts are scheduled every 15 minutes."},"input":{"date":"Publication date","time":"Publication time","shareCommentary":"Content","mediaUrl":"Link","mediaTitle":"Title","mediaDescription":"Description","visibility":"Visibility","visibilityValue":{"public":"Public","connexions":"Connexions"}},"button":{"delete":"Delete","update":"Update","create":"Create"},"text":{"create":"Post creation","schedule":"Post scheduled for the {{rawDate}} at {{rawTime}}"}}}')},146:function(e){e.exports=JSON.parse('{"header":{"home":"Accueil","dashboard":"Tableau de bord","about":"\xc0 Propos","contact":"Contact","disconnect":"D\xe9connexion","connect":"Connexion","language":{"english":"Anglais","french":"Fran\xe7ais"},"language-small":{"english":"En","french":"Fr"}},"about":{"text":{"usage":["1 - Connexion / Inscription avec ==Linkedin== sur la page d\'accueil \ud83d\udcd1","2 - ==Planifiez votre publication== en cliquant sur le boutton de cr\xe9ation, ou en cliquant sur n\'importe quel jour sur lequel vous voulez planifier votre publication \ud83d\udcc5","3 - Configurez votre publication en fonction du ==guide ci-dessous==, et c\'est fini ! \ud83d\udc4d"],"guide":["1 - Les 2 ==champs requis== pour programmer une publication sont le contenu et la date \u231a","2 - Vous pouvez aussi ajouter ==un titre, un lien et une description==, la publication ressemblera \xe0 l\'image sur la droite \ud83d\udc49","3 - Notez que vous pouvez ==Mettre \xe0 jour / supprimer== votre publication n\'importe quand en cliquant dessus dans le callendrier \ud83d\udcaa"],"team":["Nous sommes une \xe9quipe fran\xe7aise de d\xe9veloppeurs passion\xe9s \ud83e\udd50","Nous voulons r\xe9soudre un probl\xe8me simple qu\'est l\'automatisation de publication sur LinkedIn gratuitement, et [c\'est comme cela que tout a commenc\xe9...](https://github.com/medartus/feedmyflow) ! \ud83d\ude80","Nous aimons tester nos comp\xe9tences, donc venez voir nos autres projets [Swizzl](www.swizzl.fr), [BikeStations](https://bikestations.netlify.com/) et [Loa](https://loabot.netlify.com/) \ud83e\udd16"]},"title":{"usage":"Comment l\'utiliser ?","guide":"Guide","team":"\xc0 Propos de l\'\xe9quipe"}},"calendar":{"date":"Date: ","content":"Contenu: ","schedule":"Planifier vos publications","automate":"Automatisez votre flux en juste un clic","upcoming":"PROCHAINS POSTS","create":"NOUVEAU POST","messageCalendar":{"allDay":"Journ\xe9e","previous":"Pr\xe9c\xe9dent","next":"Suivant","today":"Aujourd\'hui","month":"Mois","week":"Semaine","day":"Jour","agenda":"Agenda","date":"Date","time":"heure","showMore":"+ {{total}} de plus"}},"home":{"go":"C\'EST PARTI","slogan":"Planificateur gratuit de publication Linkedin"},"creationModal":{"validDate":{"valid":"Merci de mettre une date valide","past":"La date ne doit pas \xeatre ant\xe9rieur \xe0 maintenant"},"deleteDate":{"confirm":"Etes vous sur de vouloir supprimer ce post ?","delete":"Supprimer","cancel":"Annuler"},"publicationTime":{"quarter":"Les messages sont post\xe9s toutes les 15 minutes."},"input":{"date":"Date de publication","time":"Heure de publication","shareCommentary":"Contenu","mediaUrl":"Lien","mediaTitle":"Titre","mediaDescription":"Description","visibility":"Visibilit\xe9","visibilityValue":{"public":"Publique","connexions":"Relations"}},"button":{"delete":"Suppresion","update":"Mise \xe0 jour","create":"Creation"},"text":{"create":"Cr\xe9ation de la publication","schedule":"Publication pr\xe9vue pour le {{rawDate}} \xe0 {{rawTime}}"}}}')},148:function(e,t,a){e.exports=a.p+"static/media/linkedin.1eec46a7.jpg"},149:function(e,t,a){e.exports=a.p+"static/media/post.408cb2b1.svg"},155:function(e,t,a){e.exports=a.p+"static/media/empty.08da03f7.svg"},156:function(e,t,a){e.exports=a.p+"static/media/team.76d438d7.svg"},157:function(e,t,a){e.exports=a.p+"static/media/setup.429b7f86.svg"},158:function(e,t,a){e.exports=a.p+"static/media/exemple.4e107ac4.png"},174:function(e,t,a){e.exports=a(304)},179:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},206:function(e,t,a){},210:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(9),r=a.n(i),c=(a(179),a(115)),l=a(141),s=a(38),u={en:{translation:a(145)},fr:{translation:a(146)}};c.a.use(l.a).use(s.a).init({resources:u,fallbackLng:"en",interpolation:{escapeValue:!1}});c.a;var d=a(87),m=a(56),p=a(24),f=a(332),h=a(340),b=a(348),g=a(6),v=a(164),E=a(27),y=a(82),C=a.n(y),w=a(111),T=a(161),O=a(147),k=a.n(O).a.initializeApp({apiKey:"AIzaSyBOZoj4yOPpzhoMLGeHUlmo91xnuE8nL3E",authDomain:"dev-feedmyflow.firebaseapp.com",databaseURL:"https://dev-feedmyflow.firebaseio.com",projectId:"dev-feedmyflow",storageBucket:"dev-feedmyflow.appspot.com",messagingSenderId:"724364843395",appId:"1:724364843395:web:c16a578414b0653a5b3eb6",measurementId:"G-EGBCGFC1E6"}),N=Object(n.createContext)();function x(e){var t=e.children,a=S();return o.a.createElement(N.Provider,{value:a},t)}var j=function(){return Object(n.useContext)(N)},S=function(){var e=Object(n.useState)({haveTriedLogin:!1,isConnected:!1,user:void 0,firebaseTestLogin:!1}),t=Object(p.a)(e,2),a=t[0],o=t[1],i=new T.a,r=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20"))||null},c=function(){var e=Object(w.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return new Promise((function(t,a){console.log("firebase init"),k.auth().signInWithCustomToken(e).then((function(){console.log("loged in"),t()})).catch((function(e){console.log("not loged in"),i.remove("token"),a(e)}))}))},s=function e(t,n){console.log(a),a.firebaseTestLogin||t>=10?a.isConnected?n():window.location.href="https://us-central1-dev-feedmyflow.cloudfunctions.net/redirect":setTimeout((function(){e(t+1,n)}),500)};return Object(n.useEffect)((function(){var e=k.auth().onAuthStateChanged((function(e){if(e){console.log("status change connected");try{o((function(t){return Object(E.a)({},t,{isConnected:!0,user:e,haveTriedLogin:!0,firebaseTestLogin:!0})}))}catch(t){console.log(t)}}else o((function(e){return Object(E.a)({},e,{isConnected:!1,user:void 0,haveTriedLogin:!1,firebaseTestLogin:!0})}))}));return function(){return e()}}),[]),{authStatus:a,signOut:function(e){return k.auth().signOut().then((function(){o(Object(E.a)({},a,{isConnected:!1,user:void 0,haveTriedLogin:!1})),e.history.push("/")}))},signIn:function(e,t){return new Promise((function(n,o){a.isConnected?n():new Promise(function(){var e=Object(w.a)(C.a.mark((function e(t,a){var n,o,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("try to get Token"),n=r("code"),o=r("state"),null===n){e.next=18;break}return s="https://us-central1-dev-feedmyflow.cloudfunctions.net/token?code="+encodeURIComponent(n)+"&state="+encodeURIComponent(o),e.prev=6,e.next=9,c(s);case 9:(u=e.sent).token&&(console.log("info in url"),i.set("token",u.token.toString()),l(u.token).then((function(){return t()})).catch((function(e){return a(e)}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),a(e.t0);case 16:e.next=20;break;case 18:console.log("no info in url"),new Promise((function(e,t){console.log("try to log with Cookies");var a=void 0;try{a=i.get("token")}catch(n){t(n)}void 0===a?t("no Token"):(console.log("try to use cookies token"),l(a).then((function(){console.log("log with cookies works"),e()})).catch((function(e){console.log("log with cookies failed"),t(e)})))})).then((function(){t()})).catch((function(e){a(e)}));case 20:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}()).then((function(){e&&t.history.push("/dashboard"),n()})).catch((function(e){console.log(e),console.log("redirect"),s(0,n)}))}))}}},D=(a(201),a(202),function(e){return"".concat(e,"px")}),M=function(e,t,a){return{width:e,height:t,cursor:a?"pointer":"default "}},I=function(e,t){return"logo-bar bar-".concat(t," ").concat(e?"animated-logo-".concat(t):"")},L=Object(n.memo)((function(e){var t=e.action,a=void 0===t?null:t,n=e.size,i=void 0===n?50:n,r=e.isMonotone,c=void 0===r||r,l=e.animated,s=void 0!==l&&l,u=function(e){var t="#fff",a="#fff",n="#fff";return e||(t="#3DA7CA",a="#00698C",n="#133540"),{c1:t,c2:a,c3:n}}(c),d=u.c1,m=u.c2,p=u.c3,f=D(.6*i),h=D(.7*i);return o.a.createElement("div",{className:"column-logo",onClick:a,style:M(f,h,a)},o.a.createElement("div",{className:I(s,1),style:{backgroundColor:d}}),o.a.createElement("div",{className:I(s,2),style:{backgroundColor:m}}),o.a.createElement("div",{className:I(s,3),style:{backgroundColor:p}}))})),P="#008FBF",U="#3DA7CA",_="#133540",z="#F54C4C",A={show:!1,warning:!0,showCancel:!0,title:"",confirmBtnBsStyle:"danger",onConfirm:function(){},onCancel:function(){},focusCancelBtn:!0},R=function(e,t){return{show:!0,warning:!0,confirmBtnCssClass:"alert-btn",title:e,onConfirm:t}},B=Object(g.a)((function(e){return{input:{position:"relative",color:"white",border:"2px solid white",borderRadius:"4px",fontSize:16,padding:"10px 26px 10px 12px",fontFamily:"Poppins","&:focus":{borderRadius:2,borderColor:U}}}}))(v.a),q=function(){window.location.href="mailto: feedmyflow@gmail.com"},V=Object(n.memo)((function(e){var t=e.text,a=e.onClick;return o.a.createElement("div",{onClick:a,className:"header-item"},o.a.createElement("p",{className:"header-text"},t))})),F=Object(n.memo)((function(e){var t=j(),a=Object(s.b)(),i=a.t,r=a.i18n,c=Object(n.useCallback)((function(){return e.history.push("/dashboard")}),[e]),l=Object(n.useCallback)((function(){return e.history.push("/")}),[e]),u=Object(n.useCallback)((function(){return e.history.push("/about")}),[e]),d=Object(n.useCallback)((function(){return t.signOut(e)}),[t,e]),m=Object(n.useCallback)((function(){return t.signIn(!0,e)}),[t,e]),g=Object(n.useState)(!1),v=Object(p.a)(g,2),E=v[0],y=v[1],C=window.innerWidth>600?"header.language.":"header.language-small.",w=window.innerWidth>600?50:35,T=function(){return o.a.createElement("div",{className:"header-item",id:"language-selection"},o.a.createElement(f.a,{variant:"outlined"},o.a.createElement(h.a,{native:!0,value:r.language,onChange:function(e){var t,a=e.target.value;return t=a,void r.changeLanguage(t)},input:o.a.createElement(B,null),MenuProps:{icon:"white"}},o.a.createElement("option",{value:"fr"},i("".concat(C,"french"))),o.a.createElement("option",{value:"en"},i("".concat(C,"english"))))))},O=function(){return o.a.createElement("div",{className:"options-container"},".",o.a.createElement("nav",{hidden:!E},t.authStatus.isConnected?o.a.createElement(V,{text:i("header.dashboard"),onClick:c}):o.a.createElement(V,{text:i("header.home"),onClick:l}),o.a.createElement(V,{text:i("header.about"),onClick:u}),o.a.createElement(V,{text:i("header.contact"),onClick:q}),t.authStatus.isConnected?o.a.createElement(V,{text:i("header.disconnect"),onClick:d}):o.a.createElement(V,{text:i("header.connect"),onClick:m})),o.a.createElement(T,null))};return o.a.createElement("div",{className:"header-container",style:{backgroundColor:_}},o.a.createElement(b.a,{id:"menu-button",onClick:function(){y(!E)}}),o.a.createElement(L,{size:w,action:l}),o.a.createElement(O,null))})),W=a(148),H=a.n(W),Y=a(149),G=a.n(Y),J=(a(206),window.innerWidth>600?60:50),K=function(){return o.a.createElement("div",{className:"column"},o.a.createElement("img",{alt:"linkedin-mockup",src:H.a,className:"linkedin-image"}))},$=function(e){var t=e.t,a=e.iconSize;return o.a.createElement("div",{className:"column",id:"home-left-column"},o.a.createElement("div",{className:"main-text"},o.a.createElement(L,{isMonotone:!1,size:a}),o.a.createElement("div",{className:"absolute-text",style:{left:3*a/6}},o.a.createElement("p",{className:"important-text"},"eed my flow"))),o.a.createElement("p",{className:"second-text"},t("home.slogan")))},Z=Object(n.memo)((function(e){var t=j(),a=Object(s.b)().t,i=Object(n.useCallback)((function(){return t.signIn(!0,e)}),[t,e]),r=function(){return o.a.createElement("div",{style:{backgroundColor:_},className:"cta-container",onClick:i},o.a.createElement("p",{className:"cta-text"},a("home.go")))},c=function(){return o.a.createElement("div",{className:"column"},o.a.createElement($,{t:a,iconSize:J}),o.a.createElement("img",{alt:"home-illustration",src:G.a,className:"post-image"}),o.a.createElement(r,null))};return o.a.createElement("div",{className:"home-container"},o.a.createElement(F,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"home-wrapper"},o.a.createElement(c,null),o.a.createElement(K,null)))})),Q=a(71),X=function(e){e.component;var t=Object(Q.a)(e,["component"]),a=j(),i=t.location.search.includes("error=user_cancelled_login");return Object(n.useEffect)((function(){a.authStatus.haveTriedLogin||i||a.signIn(!1,null)}),[]),o.a.createElement(m.b,Object.assign({},t,{render:function(e){return a.authStatus.haveTriedLogin||i?o.a.createElement(m.a,{to:{pathname:a.authStatus.isConnected?"/dashboard":"/",state:{from:e.location}}}):o.a.createElement("div",{className:"center"},o.a.createElement(L,{size:100,animated:!0,isMonotone:!1}))}}))},ee=a(114),te=a(69),ae=a.n(te),ne=(a(208),a(209),a(341)),oe=a(338),ie=a(305),re=a(343),ce=a(342),le=a(21),se=a(337),ue=a(344),de=a(339),me=a(159),pe=(a(210),a(153)),fe=a.n(pe),he=(a(224),function(e){return o.a.createElement(fe.a,e)}),be=(a(225),{width:"20vw"}),ge={width:"10vw"},ve=Object(n.memo)((function(e){var t=e.inPreviewMode,a=e.photoUrl,i=e.displayName,r=e.content,c=e.isLinkValid,l=e.title,s=e.description,u=e.url,d=e.setTitle,m=e.hideDescription,f=e.setHideDescription,h=Object(n.useState)(null),b=Object(p.a)(h,2),g=b[0],v=b[1];Object(n.useEffect)((function(){if(c&&""!==u){var e=encodeURIComponent(u);fetch("https://url-preview.herokuapp.com/api/v1/preview?url=".concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status,": ").concat(e.statusText))})).then((function(e){var t=e.title,a=e.image;v(a),d(t),f(void 0!==a&&null!==a)})).catch((function(e){f(!1),v(null),d("")}))}else null!==g&&v(null)}),[c,u,g,d,f]);var E=function(){return o.a.createElement("div",{className:"row",style:{marginTop:"20px"}},o.a.createElement("img",{src:a,alt:"user-img",className:"user-img"}),o.a.createElement("div",{className:"column",style:{alignItems:"flex-start",marginLeft:"20px"}},o.a.createElement("p",{style:{margin:0}},i),o.a.createElement("div",{className:"skeleton",style:be}),o.a.createElement("div",{className:"skeleton",style:ge})))},y=function(){return o.a.createElement("div",{className:"row",id:"post-content"},r.split("\n").map((function(e,t){return o.a.createElement("p",{key:t,className:"next-post-item"},e)})))};return o.a.createElement("div",{className:t?"card overflowable visible":"card overflowable",id:"preview-card"},o.a.createElement(E,null),o.a.createElement(y,null),o.a.createElement("div",{className:"column",style:{width:"100%"}},g&&o.a.createElement("div",{className:"img-container"},o.a.createElement("img",{src:g,alt:"embed",className:"embed-img"})),(u||l||s)&&o.a.createElement("div",{className:"url-info-container"},o.a.createElement("p",{className:"description-text clipped clip-1"},l),o.a.createElement("p",{className:"second-text",style:{fontSize:"14px",margin:"6px 0 6px 0"}},c?function(e){if(!e)return"";try{return new URL(e).hostname}catch(t){return e}}(u):u),!m&&o.a.createElement("p",{className:"description-text clipped clip-2"},s))))})),Ee=a(160),ye=a(336),Ce=a(59),we=a(154),Te=a.n(we),Oe=Object(Ee.a)({palette:{primary:{main:P}},overrides:{MuiFormLabel:{asterisk:{color:z,"&$error":{color:z}}}}}),ke=Object(g.a)({root:{backgroundColor:_,marginTop:"3%",marginBottom:"5%",borderRadius:"100px",padding:"1% 2%","&:hover":{backgroundColor:P},"&:disabled":{backgroundColor:"rgba(0, 0, 0, 0.2)"}},label:{color:"white",fontWeight:"bold",fontSize:"18px"}})(ye.a),Ne=Object(g.a)({root:{backgroundColor:z,marginTop:"3%",marginBottom:"5%",borderRadius:"100px",padding:"1% 2%","&:hover":{backgroundColor:z}},label:{color:"white",fontWeight:"bold",fontSize:"18px"}})(ye.a),xe=Object(g.a)({root:{fill:_}})(Te.a),je=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Se={timeout:500,className:"backdrop"},De=function(e,t){return!e&&t?{display:"block"}:{display:"none"}},Me=function(e,t){switch(t.type){case"SET_DATE":return Object(E.a)({},e,{publicationDate:t.payload});case"SET_TIME":return Object(E.a)({},e,{publicationTime:t.payload});case"SET_COMMENTARY":return Object(E.a)({},e,{shareCommentary:t.payload});case"SET_CATEGORY":return Object(E.a)({},e,{shareMediaCategory:t.payload});case"SET_VISIBILITY":return Object(E.a)({},e,{visibility:t.payload});case"SET_TITLE":return Object(E.a)({},e,{mediaTitle:t.payload});case"SET_DESCRIPTION":return Object(E.a)({},e,{mediaDescription:t.payload});case"SET_HIDE_DESCRIPTION":return Object(E.a)({},e,{hideDescription:t.payload});case"SET_LINK_VALID":return Object(E.a)({},e,{isLinkValid:t.payload});case"SET_URL":return Object(E.a)({},e,{mediaUrl:t.payload});default:return e}},Ie=Object(n.memo)((function(e){var t=e.isOpen,a=e.data,i=e.handleClose,r=null!==a,c=!!r&&void 0!==a.media,l=Object(s.b)().t,u=k.firestore(),d=k.auth().currentUser.uid,m=je(),f=new Date;f.setMinutes(60);var b=Object(n.useState)(!1),g=Object(p.a)(b,2),v=g[0],y=g[1],C=Object(n.useState)(!1),w=Object(p.a)(C,2),T=w[0],O=w[1],N=Object(n.useState)(A),x=Object(p.a)(N,2),j=x[0],S=x[1],D=Object(n.useState)(!1),M=Object(p.a)(D,2),I=M[0],L=M[1],P=Object(n.useState)(!1),U=Object(p.a)(P,2),_=U[0],z=U[1],B=Object(n.useReducer)(Me,function(e,t,a,n){return{publicationDate:a?new Date(e.publicationTime.toDate()):n,publicationTime:a?new Date(e.publicationTime.toDate()):n,shareCommentary:a?e.shareCommentary:"",shareMediaCategory:a?e.shareMediaCategory:"NONE",visibility:a?e.visibility:"PUBLIC",mediaTitle:a&&t?e.media.title:"",mediaDescription:a&&t?e.media.description:"",mediaUrl:a&&t?e.media.originalUrl:"",hideDescription:!!(a&&t&&void 0===e.media.description||!a),isLinkValid:!(!a||!t||void 0===e.media.originalUrl)}}(a,c,r,f)),q=Object(p.a)(B,2),V=q[0],F=V.publicationDate,W=V.publicationTime,H=V.shareCommentary,Y=V.shareMediaCategory,G=V.visibility,J=V.mediaTitle,K=V.mediaDescription,$=V.mediaUrl,Z=V.hideDescription,Q=q[1];Object(n.useEffect)((function(){L(function(e){try{new URL(e);return!0}catch(t){return!1}}($))}),[$]),Object(n.useEffect)((function(){if(!t&&!r){var e=new Date;Q({type:"SET_DATE",payload:e}),Q({type:"SET_TIME",payload:e}),Q({type:"SET_COMMENTARY",payload:""}),Q({type:"SET_CATEGORY",payload:"NONE"}),Q({type:"SET_VISIBILITY",payload:"PUBLIC"}),Q({type:"SET_TITLE",payload:""}),Q({type:"SET_DESCRIPTION",payload:""}),Q({type:"SET_URL",payload:""})}}),[t,r]),Object(n.useEffect)((function(){return O(""!==H&&("NONE"===Y||""!==J&&""!==K&&""!==$)),function(){y(!0)}}),[F,W,H,Y,G,J,K,$]);var X=Object(n.useCallback)((function(){return S(Object(E.a)({},j,{show:!1}))}),[j]),ee=Object(n.useCallback)((function(e){return Q({type:"SET_TITLE",payload:e})}),[]),te=Object(n.useCallback)((function(e){return Q({type:"SET_HIDE_DESCRIPTION",payload:e})}),[]),pe=function(){var e="".concat(F.getDate(),"/").concat(F.getMonth()+1,"/").concat(F.getFullYear()),t=0===W.getHours()?"00":W.getHours(),a=0===W.getMinutes()?"00":W.getMinutes(),n="".concat(t,":").concat(a),o=ae()(e+" "+n+":00","DD/MM/YYYY hh:mm");console.log(o.toDate());var i={author:"urn:li:person:"+d.split(":")[1],userUID:d,publicationTime:o.toDate(),shareCommentary:H,visibility:G,shareMediaCategory:Y,rawDate:e,rawTime:n};return I&&(i.media={title:J,originalUrl:$},Z||(i.media.description=K)),i},fe=function(){if("Invalid Date"===F.toString()||"Invalid Date"===W.toString())return S(R(l("creationModal.validDate.valid"),X)),!1;var e=new Date(F.getTime());return e.setHours(W.getHours(),W.getMinutes()),!(e<new Date)||(S(R(l("creationModal.validDate.before"),X)),!1)},be=function(){if(fe()){var e=pe();u.collection("user").doc(d).collection("post").add(e),i()}},ge=function(){if(fe()){var e=pe(),t=a.id;u.collection("user").doc(d).collection("post").doc(t).update(e),i(),y(!1)}},Ee=function(){var e=a.id;S(function(e,t,a,n,o){return{show:!0,danger:!0,showCancel:!0,cancelBtnCssClass:"alert-btn",confirmBtnCssClass:"alert-btn danger-btn",cancelBtnText:a,confirmBtnText:t,title:e,onConfirm:n,onCancel:o}}(l("creationModal.deleteDate.confirm"),l("creationModal.deleteDate.delete"),l("creationModal.deleteDate.cancel"),(function(){u.collection("user").doc(d).collection("post").doc(e).delete(),i()}),X))},ye=function(){return o.a.createElement(o.a.Fragment,null,j.show&&o.a.createElement(he,j))};return o.a.createElement(ne.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",id:"modal",className:m.modal,open:t,onClose:i,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:Se},o.a.createElement(ie.a,{in:t},o.a.createElement(de.a,{theme:Oe},o.a.createElement("div",{id:"phone-mode-toggle"},o.a.createElement("input",{type:"radio",name:"phonemode",id:"edit",onClick:function(){return z(!1)},checked:!_}),o.a.createElement("label",{for:"edit",id:"edit-label"},"Edit"),o.a.createElement("input",{type:"radio",name:"phonemode",id:"preview",onClick:function(){return z(!0)},checked:_}),o.a.createElement("label",{for:"preview",id:"preview-label"},"Preview")),o.a.createElement("div",{id:"creation-modal-container",className:_?"card overflowable":"card overflowable visible"},o.a.createElement(xe,{onClick:i,className:"close-icon"}),o.a.createElement("p",{className:"important-text",id:"creation-modal-toptext"},r?l("creationModal.text.schedule",{rawDate:a.rawDate,rawTime:a.rawTime}):l("creationModal.text.create")),o.a.createElement("div",{className:"row",id:"time-row"},o.a.createElement(le.a,{utils:me.a},o.a.createElement(se.a,{required:!0,style:{marginRight:"20px"},id:"date-picker-dialog",label:l("creationModal.input.date"),format:"dd/MM/yyyy",value:F,onChange:function(e){return Q({type:"SET_DATE",payload:e})},KeyboardButtonProps:{"aria-label":"change date"}}),o.a.createElement(ue.a,{required:!0,id:"time-picker",style:{marginRight:"20px"},label:l("creationModal.input.time"),value:W,ampm:!1,minutesStep:15,onChange:function(e){return function(e){if(null!==e){var t=Math.floor(e.getMinutes()/15);isNaN(e.getMinutes())||(e.getMinutes()%15!==0&&S(R(l("creationModal.publicationTime.quarter"),X)),e.getMinutes()%15>7&&(t+=1)),e.setMinutes(15*t)}Q({type:"SET_TIME",payload:e})}(e)},KeyboardButtonProps:{"aria-label":"change time"}}),o.a.createElement("div",{className:"column",id:"visibility-container",style:{paddingTop:"16px"}},o.a.createElement(h.a,{labelId:l("creationModal.input.visibility"),id:"visibility",value:G,onChange:function(e){var t=e.target.value;return Q({type:"SET_VISIBILITY",payload:t})}},o.a.createElement(re.a,{value:"PUBLIC"},l("creationModal.input.visibilityValue.public")),o.a.createElement(re.a,{value:"CONNECTIONS"},l("creationModal.input.visibilityValue.connexions")))))),o.a.createElement("div",{className:"row"},o.a.createElement(ce.a,{fullWidth:!0,label:l("creationModal.input.shareCommentary"),id:"shareCommentary",value:H,onChange:function(e){var t=e.target.value;return Q({type:"SET_COMMENTARY",payload:t})},multiline:!0,rowsMax:4,required:!0})),o.a.createElement("div",{className:"row"},o.a.createElement(ce.a,{fullWidth:!0,id:"mediaUrl",label:l("creationModal.input.mediaUrl"),value:$,onChange:function(e){var t=e.target.value;return Q({type:"SET_URL",payload:t})}})),o.a.createElement("div",{className:"row",style:{display:I?"block":"none"}},o.a.createElement(ce.a,{fullWidth:!0,id:"mediaTitle",label:l("creationModal.input.mediaTitle"),value:J,onChange:function(e){var t=e.target.value;return Q({type:"SET_TITLE",payload:t})}})),o.a.createElement("div",{className:"row",style:De(Z,I)},o.a.createElement(ce.a,{fullWidth:!0,id:"mediaDescription",label:l("creationModal.input.mediaDescription"),value:K,onChange:function(e){var t=e.target.value;return Q({type:"SET_DESCRIPTION",payload:t})},multiline:!0,rowsMax:4})),r?o.a.createElement("div",{className:"row"},o.a.createElement(Ne,{onClick:Ee},l("creationModal.button.delete")),o.a.createElement(ke,{onClick:ge,disabled:!v},l("creationModal.button.update"))):o.a.createElement(ke,{onClick:be,disabled:!T},l("creationModal.button.create")),console.log(Z,I)),o.a.createElement(ve,{inPreviewMode:_,photoUrl:k.auth().currentUser.photoURL,displayName:k.auth().currentUser.displayName,content:H,title:J,isLinkValid:I,url:$,description:K,setTitle:ee,setHideDescription:te,hideDescription:Z}),o.a.createElement(ye,null))))})),Le=(a(228),a(155)),Pe=a.n(Le),Ue=(a(244),{height:"65vh",width:"100%"}),_e={month:!0,week:!0},ze=Object(ee.b)(ae.a),Ae=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),i=a[0],r=a[1],c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object(n.useState)(e),o=Object(p.a)(a,2),i=o[0],r=o[1],c=Object(n.useState)(t),l=Object(p.a)(c,2),s=l[0],u=l[1],d=Object(n.useCallback)((function(e){r(e),!1===e&&u(null)}),[r,u]),m=Object(n.useCallback)((function(){return d(!1)}),[d]);return{modalOpen:i,setModalOpen:r,selected:s,setSelected:u,setModalState:d,handleClose:m}}(),l=c.modalOpen,u=c.selected,d=c.handleClose,m=c.setSelected,f=c.setModalState,h=Object(s.b)(),b=h.t,g=h.i18n;i.length>0&&console.log(new Date(i[0].publicationTime.toDate()));window.innerWidth;Object(n.useEffect)((function(){var e=k.auth().currentUser.uid,t=k.firestore().collection("user").doc(e).collection("post").onSnapshot((function(e){var a=e.docs.map((function(e,t){var a=e.data();return a.itemId=t,a.id=e.id,a.title=a.shareCommentary,a.start=new Date(a.publicationTime.toDate()),a.end=ae()(a.start).add(15,"m").toDate(),a}));return a.sort((function(e,t){return e.start-t.start})),r(a),function(){t()}}))}),[]);var v=function(e){var t=e.rawDate,a=e.rawTime,n=e.title,i=e.id;return o.a.createElement("div",{className:"next-post",onClick:function(){m(i),f(!0)}},o.a.createElement("p",{className:"next-post-item"},o.a.createElement("span",{className:"span-item"},b("calendar.date")),"".concat(t," ").concat(a)),o.a.createElement("p",{className:"next-post-item clipped"},o.a.createElement("span",{className:"span-item"},b("calendar.content")),n))},E=function(){return o.a.createElement("div",{id:"next-posts-container"},0===i.length?o.a.createElement("img",{src:Pe.a,alt:"empty",className:"empty-img"}):o.a.createElement("div",{className:"posts-container"},i.map((function(e){var t=e.itemId,a=Object(Q.a)(e,["itemId"]);return o.a.createElement(v,Object.assign({key:t},a))}))))},y=function(){return o.a.createElement("div",{className:"column",id:"schedule-container",style:{alignItems:"flex-start"}},o.a.createElement("p",{id:"schedule-title",className:"important-text"},b("calendar.schedule")),o.a.createElement("p",{id:"schedule-subtitle",className:"second-text"},b("calendar.automate")))},C=function(){return o.a.createElement("div",{className:"column",style:{alignItems:"flex-start"}},o.a.createElement(y,null),o.a.createElement(ee.a,{messages:{allDay:b("calendar.messageCalendar.allDay"),previous:b("calendar.messageCalendar.previous"),next:b("calendar.messageCalendar.next"),today:b("calendar.messageCalendar.today"),month:b("calendar.messageCalendar.month"),week:b("calendar.messageCalendar.week"),day:b("calendar.messageCalendar.day"),agenda:b("calendar.messageCalendar.agenda"),date:b("calendar.messageCalendar.date"),time:b("calendar.messageCalendar.time"),event:b("calendar.messageCalendar.event"),showMore:function(e){return b("calendar.messageCalendar.showMore",{total:e})}},className:"calendar",popup:!0,step:60,localizer:ze,defaultDate:new Date,defaultView:"month",culture:g.language,events:i,drilldownView:"week",style:Ue,views:_e,selectable:!0,onSelectSlot:function(e){e.start;return f(!0)},onSelectEvent:function(e,t){m(e.id),f(!0)}}))},w=function(){return o.a.createElement("div",{className:"cta-container",style:{backgroundColor:_,margin:"20px"},onClick:function(){return f(!0)}},o.a.createElement("p",{style:{fontSize:"16px"},className:"cta-text"},b("calendar.create")))},T=function(){return o.a.createElement("p",{className:"upcoming-text",style:{backgroundColor:P}},b("calendar.upcoming"))},O=function(){return o.a.createElement("div",{className:"column",style:{justifyContent:"flex-start"}},o.a.createElement(T,null),o.a.createElement(E,null),o.a.createElement(w,null),o.a.createElement(Ie,{isOpen:l,handleClose:d,data:u?i.filter((function(e){return e.id===u}))[0]:null}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"wrapper"},o.a.createElement(C,null),o.a.createElement(O,null)))},Re=a(156),Be=a.n(Re),qe=a(157),Ve=a.n(qe),Fe=a(158),We=a.n(Fe),He=(a(245),a(246)().use(a(301))),Ye=function(e,t){var a=e("about.text."+t,{returnObjects:!0});return console.log(a),a.map((function(e){return o.a.createElement("p",{className:"about-text",dangerouslySetInnerHTML:{__html:He.render(e)}})}))},Ge=function(e){var t=e.title,a=e.image,n=e.content;return o.a.createElement("div",{className:"section-container"},o.a.createElement("div",{className:"column",style:{alignItems:"flex-start"}},o.a.createElement("p",{className:"section-title"},t),n),o.a.createElement("div",{className:"column"},o.a.createElement("img",{src:a,alt:t,className:"right-image"})))},Je=Object(n.memo)((function(e){var t=Object(s.b)().t,a=Object(n.useMemo)((function(){return Ye(t,"usage")}),[t]),i=Object(n.useMemo)((function(){return Ye(t,"guide")}),[t]),r=Object(n.useMemo)((function(){return Ye(t,"team")}),[t]);return o.a.createElement("div",{className:"home-container"},o.a.createElement(F,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"home-wrapper",style:{flexDirection:"column"}},o.a.createElement(Ge,{title:t("about.title.usage"),image:Ve.a,content:a}),o.a.createElement(Ge,{title:t("about.title.guide"),image:We.a,content:i}),o.a.createElement(Ge,{title:t("about.title.team"),image:Be.a,content:r})))})),Ke=(a(302),function(e){e.path;var t=e.comp,a=e.redirect,i=e.needToBeConnected,r=Object(Q.a)(e,["path","comp","redirect","needToBeConnected"]),c=j();return Object(n.useEffect)((function(){i&&!c.authStatus.haveTriedLogin&&c.signIn(!1,null)}),[]),o.a.createElement(m.b,Object.assign({},r,{render:function(e){return!c.authStatus.haveTriedLogin&&i?o.a.createElement("div",{className:"center"},o.a.createElement(L,{size:100,animated:!0,isMonotone:!1})):c.authStatus.isConnected&&i||!c.authStatus.isConnected&&!i?o.a.createElement(t,e):o.a.createElement(m.a,{to:{pathname:a,state:{from:e.location}}})}}))}),$e=function(e){var t=j();return o.a.createElement(o.a.Fragment,null,t.authStatus.firebaseTestLogin?o.a.createElement(o.a.Fragment,null,e.children):o.a.createElement("div",{className:"center"},o.a.createElement(L,{size:100,animated:!0,isMonotone:!1})))},Ze=(a(303),function(){return o.a.createElement(d.a,null,o.a.createElement(x,null,o.a.createElement($e,null,o.a.createElement(m.d,null,o.a.createElement(Ke,{exact:!0,path:"/dashboard",comp:Ae,connected:!0,redirect:"/",needToBeConnected:!0}),o.a.createElement(Ke,{exact:!0,path:"/",comp:Z,redirect:"/dashboard",needToBeConnected:!1}),o.a.createElement(m.b,{exact:!0,path:"/login",component:X}),o.a.createElement(m.b,{exact:!0,path:"/about",component:Je}),o.a.createElement(m.b,{path:"*",component:function(){return o.a.createElement(m.a,{to:"/"})}})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[174,1,2]]]);
//# sourceMappingURL=main.a3a9d97a.chunk.js.map